stages:
  - test


############################################################
######################## Tests #############################
############################################################
test_backend:
  image: python:3
  stage: test
  script:
    - echo "Executando teste...."
    - pip install -r ./api/requirements.txt
    - pip install coverage
    - python ./api/manage.py test
    - coverage run --source='.' ./api/manage.py test
    - coverage report


test_front:
  image: node:12.4.0-alpine
  stage: test
  script:
    - echo "Executando teste...."
    - npm install -g @vue/cli && npm install -g @quasar/cli
    - quasar test --unit jest --dev="-m pwa"